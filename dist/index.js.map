{
  "version": 3,
  "sources": ["../lib/main.js", "../lib/index.js"],
  "sourcesContent": ["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2019 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable no-invalid-this, no-restricted-syntax */\n\n'use strict';\n\n// MODULES //\n\nvar setNonEnumerableReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar setNonEnumerable = require( '@stdlib/utils-define-nonenumerable-property' );\nvar isObject = require( '@stdlib/assert-is-object' );\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar isIteratorLike = require( '@stdlib/assert-is-iterator-like' );\nvar objectKeys = require( '@stdlib/utils-keys' );\nvar iteratorSymbol = require( '@stdlib/symbol-iterator' );\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Returns a constructor for creating a fluent interface for chaining together iterator methods.\n*\n* ## Notes\n*\n* -   We assume that each provided iterator function has the following function signature:\n*\n*     ```text\n*     function iterFcn( iterator[, ...args] ) {...}\n*     ```\n*\n*     where `iterator` is an input iterator and `args` are additional iterator function arguments (if any).\n*\n* @param {Object} methods - an object mapping method names to iterator functions\n* @throws {TypeError} must provide an object\n* @throws {TypeError} object property values must be functions\n* @returns {Function} constructor\n*\n* @example\n* var array2iterator = require( '@stdlib/array-to-iterator' );\n* var iterHead = require( '@stdlib/iter-head' );\n* var iterSome = require( '@stdlib/iter-some' );\n*\n* // Create a \"fluent\" interface:\n* var FluentIterator = iterFlow({\n*     'head': iterHead,\n*     'some': iterSome\n* });\n*\n* // Create a source iterator:\n* var arr = array2iterator( [ 0, 0, 1, 1, 1, 0, 0, 1, 0, 1 ] );\n*\n* // Create a new iterator:\n* var it = new FluentIterator( arr );\n*\n* var bool = it.head( 5 ).some( 3 );\n* // returns true\n*\n* // Create another source iterator:\n* arr = array2iterator( [ 0, 0, 1, 0, 1, 0, 0, 1, 0, 1 ] );\n*\n* // Create a new iterator:\n* it = new FluentIterator( arr );\n*\n* bool = it.head( 5 ).some( 3 );\n* // returns false\n*/\nfunction iterFlow( methods ) {\n\tvar keys;\n\tvar k;\n\tvar f;\n\tvar i;\n\tif ( !isObject( methods ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide an object. Value: `%s`.', methods ) );\n\t}\n\t/**\n\t* Fluent interface iterator constructor.\n\t*\n\t* @private\n\t* @constructor\n\t* @param {Iterator} iterator - source iterator\n\t* @throws {TypeError} must provide an iterator\n\t* @returns {FluentIterator} a \"fluent\" iterator\n\t*/\n\tfunction FluentIterator( iterator ) {\n\t\tif ( !( this instanceof FluentIterator ) ) {\n\t\t\treturn new FluentIterator( iterator );\n\t\t}\n\t\tif ( !isIteratorLike( iterator ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Must provide an iterator. Value: `%s`.', iterator ) );\n\t\t}\n\t\tsetNonEnumerableReadOnly( this, '_source', iterator );\n\t\tsetNonEnumerable( this, '_done', false );\n\t\treturn this;\n\t}\n\n\t/**\n\t* Returns an iterator protocol-compliant object containing the next iterated value.\n\t*\n\t* @private\n\t* @throws {TypeError} `this` must be a fluent interface iterator\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tsetNonEnumerableReadOnly( FluentIterator.prototype, 'next', function next() {\n\t\tif ( !(this instanceof FluentIterator) ) {\n\t\t\tthrow new TypeError( 'invalid invocation. `this` is not a fluent interface iterator.' );\n\t\t}\n\t\tif ( this._done ) {\n\t\t\treturn {\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn this._source.next();\n\t});\n\n\t/**\n\t* Finishes an iterator.\n\t*\n\t* @private\n\t* @param {*} [value] - value to return\n\t* @throws {TypeError} `this` must be a fluent interface iterator\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tsetNonEnumerableReadOnly( FluentIterator.prototype, 'return', function finish( value ) {\n\t\tif ( !(this instanceof FluentIterator) ) {\n\t\t\tthrow new TypeError( 'invalid invocation. `this` is not a fluent interface iterator.' );\n\t\t}\n\t\tthis._done = true;\n\t\tif ( arguments.length ) {\n\t\t\treturn {\n\t\t\t\t'value': value,\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'done': true\n\t\t};\n\t});\n\n\t// If an environment supports `Symbol.iterator`, make the iterator iterable:\n\tif ( iteratorSymbol ) {\n\t\t/**\n\t\t* Returns the current iterator.\n\t\t*\n\t\t* ## Notes\n\t\t*\n\t\t* -   This method allows the iterator to be iterable and thus able to be consumed, e.g., in `for..of` loops.\n\t\t*\n\t\t* @private\n\t\t* @returns {Iterator} iterator\n\t\t*/\n\t\tsetNonEnumerableReadOnly( FluentIterator.prototype, iteratorSymbol, function factory() { // eslint-disable-line max-len\n\t\t\treturn this;\n\t\t});\n\t}\n\n\t/**\n\t* Wraps an iterator function as a fluent interface method.\n\t*\n\t* @private\n\t* @param {Function} iterFcn - iterator function\n\t* @returns {Function} method wrapper\n\t*/\n\tfunction createMethod( iterFcn ) {\n\t\treturn method;\n\n\t\t/**\n\t\t* Iterator function wrapper.\n\t\t*\n\t\t* @private\n\t\t* @param {...*} [args] - method arguments\n\t\t* @throws {TypeError} `this` must be a fluent interface iterator\n\t\t* @returns {Iterator} iterator\n\t\t*/\n\t\tfunction method() {\n\t\t\tvar args;\n\t\t\tvar out;\n\t\t\tvar i;\n\n\t\t\tif ( !(this instanceof FluentIterator) ) {\n\t\t\t\tthrow new TypeError( 'invalid invocation. `this` is not a fluent interface iterator.' );\n\t\t\t}\n\t\t\targs = [ this._source ];\n\t\t\tfor ( i = 0; i < arguments.length; i++ ) {\n\t\t\t\targs.push( arguments[ i ] );\n\t\t\t}\n\t\t\tout = iterFcn.apply( null, args );\n\n\t\t\t// If the iterator function returns an iterator, in order to support subsequent chaining, we need to create a new fluent interface instance...\n\t\t\tif ( isIteratorLike( out ) ) {\n\t\t\t\treturn new FluentIterator( out );\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t}\n\n\t// Bind the provided iterator functions to the constructor prototype...\n\tkeys = objectKeys( methods );\n\tfor ( i = 0; i < keys.length; i++ ) {\n\t\tk = keys[ i ];\n\t\tf = methods[ k ];\n\t\tif ( !isFunction( f ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Object property values must be functions. Key: `%s`. Value: `%s`.', k, f ) );\n\t\t}\n\t\tsetNonEnumerableReadOnly( FluentIterator.prototype, k, createMethod( f ) ); // eslint-disable-line max-len\n\t}\n\n\treturn FluentIterator;\n}\n\n\n// EXPORTS //\n\nmodule.exports = iterFlow;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2019 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Create a fluent interface for chaining together iterator methods.\n*\n* @module @stdlib/iter-flow\n*\n* @example\n* var array2iterator = require( '@stdlib/array-to-iterator' );\n* var iterHead = require( '@stdlib/iter-head' );\n* var iterSome = require( '@stdlib/iter-some' );\n* var iterFlow = require( '@stdlib/iter-flow' );\n*\n* // Create a \"fluent\" interface:\n* var FluentIterator = iterFlow({\n*     'head': iterHead,\n*     'some': iterSome\n* });\n*\n* // Create a source iterator:\n* var arr = array2iterator( [ 0, 0, 1, 1, 1, 0, 0, 1, 0, 1 ] );\n*\n* // Create a new iterator:\n* var it = new FluentIterator( arr );\n*\n* var bool = it.head( 5 ).some( 3 );\n* // returns true\n*\n* // Create another source iterator:\n* arr = array2iterator( [ 0, 0, 1, 0, 1, 0, 0, 1, 0, 1 ] );\n*\n* // Create a new iterator:\n* it = new FluentIterator( arr );\n*\n* bool = it.head( 5 ).some( 3 );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n"],
  "mappings": "uGAAA,IAAAA,EAAAC,EAAA,SAAAC,EAAAC,EAAA,cAwBA,IAAIC,EAA2B,QAAS,uDAAwD,EAC5FC,EAAmB,QAAS,6CAA8C,EAC1EC,EAAW,QAAS,0BAA2B,EAC/CC,EAAa,QAAS,4BAA6B,EACnDC,EAAiB,QAAS,iCAAkC,EAC5DC,EAAa,QAAS,oBAAqB,EAC3CC,EAAiB,QAAS,yBAA0B,EACpDC,EAAS,QAAS,uBAAwB,EAoD9C,SAASC,EAAUC,EAAU,CAC5B,IAAIC,EACAC,EACAC,EACAC,EACJ,GAAK,CAACX,EAAUO,CAAQ,EACvB,MAAM,IAAI,UAAWF,EAAQ,yDAA0DE,CAAQ,CAAE,EAWlG,SAASK,EAAgBC,EAAW,CACnC,GAAK,EAAG,gBAAgBD,GACvB,OAAO,IAAIA,EAAgBC,CAAS,EAErC,GAAK,CAACX,EAAgBW,CAAS,EAC9B,MAAM,IAAI,UAAWR,EAAQ,2DAA4DQ,CAAS,CAAE,EAErG,OAAAf,EAA0B,KAAM,UAAWe,CAAS,EACpDd,EAAkB,KAAM,QAAS,EAAM,EAChC,IACR,CASAD,EAA0Bc,EAAe,UAAW,OAAQ,UAAgB,CAC3E,GAAK,EAAE,gBAAgBA,GACtB,MAAM,IAAI,UAAW,gEAAiE,EAEvF,OAAK,KAAK,MACF,CACN,KAAQ,EACT,EAEM,KAAK,QAAQ,KAAK,CAC1B,CAAC,EAUDd,EAA0Bc,EAAe,UAAW,SAAU,SAAiBE,EAAQ,CACtF,GAAK,EAAE,gBAAgBF,GACtB,MAAM,IAAI,UAAW,gEAAiE,EAGvF,OADA,KAAK,MAAQ,GACR,UAAU,OACP,CACN,MAASE,EACT,KAAQ,EACT,EAEM,CACN,KAAQ,EACT,CACD,CAAC,EAGIV,GAWJN,EAA0Bc,EAAe,UAAWR,EAAgB,UAAmB,CACtF,OAAO,IACR,CAAC,EAUF,SAASW,EAAcC,EAAU,CAChC,OAAOC,EAUP,SAASA,GAAS,CACjB,IAAIC,EACAC,EACAR,EAEJ,GAAK,EAAE,gBAAgBC,GACtB,MAAM,IAAI,UAAW,gEAAiE,EAGvF,IADAM,EAAO,CAAE,KAAK,OAAQ,EAChBP,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAClCO,EAAK,KAAM,UAAWP,CAAE,CAAE,EAK3B,OAHAQ,EAAMH,EAAQ,MAAO,KAAME,CAAK,EAG3BhB,EAAgBiB,CAAI,EACjB,IAAIP,EAAgBO,CAAI,EAEzBA,CACR,CACD,CAIA,IADAX,EAAOL,EAAYI,CAAQ,EACrBI,EAAI,EAAGA,EAAIH,EAAK,OAAQG,IAAM,CAGnC,GAFAF,EAAID,EAAMG,CAAE,EACZD,EAAIH,EAASE,CAAE,EACV,CAACR,EAAYS,CAAE,EACnB,MAAM,IAAI,UAAWL,EAAQ,sFAAuFI,EAAGC,CAAE,CAAE,EAE5HZ,EAA0Bc,EAAe,UAAWH,EAAGM,EAAcL,CAAE,CAAE,CAC1E,CAEA,OAAOE,CACR,CAKAf,EAAO,QAAUS,IC3KjB,IAAIc,EAAO,IAKX,OAAO,QAAUA",
  "names": ["require_main", "__commonJSMin", "exports", "module", "setNonEnumerableReadOnly", "setNonEnumerable", "isObject", "isFunction", "isIteratorLike", "objectKeys", "iteratorSymbol", "format", "iterFlow", "methods", "keys", "k", "f", "i", "FluentIterator", "iterator", "value", "createMethod", "iterFcn", "method", "args", "out", "main"]
}
